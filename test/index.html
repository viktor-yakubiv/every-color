<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Every Color</title>

<link rel="stylesheet" href="../palette.css">
<link rel="stylesheet" href="../theme.css">
<link rel="stylesheet" href="../color.css">

<main class="stack">
  <section id="basic" class="stack">
    <h2>Basic</h2>
    <p>Full chain of class names work correctly.</p>
  </section>

  <section id="shorthands" class="stack">
    <h2>Shorthands</h2>
    <p>Some class could be omitted preserving the correct behavior.</p>
  </section>

  <section id="extra-accents" class="stack">
    <h2>Semantic accents</h2>
  </section>

  <section id="edge-cases" class="stack">
    <h2>Some edge cases</h2>
  </section>
</main>

<aside class="stack">
  <div class="box & stack with surface">
    <p>box & stack with surface</p>
    <p class="box with primary surface">primary surface</p>
    <p class="box with vibrant surface">vibrant surface</p>
  </div>

  <div class="box & stack with vibrant surface">
    <p>box & stack with vibrant surface</p>
    <p class="box with primary surface">box with primary surface</p>
    <p class="box with primary neutral surface">box with primary neutral surface</p>
  </div>

  <div class="box & stack with primary surface">
    <p>box & stack with vibrant surface</p>
    <p class="box with primary surface">box with primary surface</p>
    <p class="box with primary neutral surface">box with primary neutral surface</p>
  </div>
</aside>

<script type="module" id="spec">
  import { mount } from './engine.js'
  import { box, switcher } from './layout.js'

  const full = [
    'default neutral surface and major content',
    'default neutral surface and minor content',
    'default vibrant surface and major content',
    'default vibrant surface and minor content',

    'primary neutral surface and major content',
    'primary neutral surface and minor content',
    'primary vibrant surface and major content',
    'primary vibrant surface and minor content',

    'default major content',
    'default minor content',
    'primary major content',
    'primary minor content',
  ]

  const short = [
    '[default] neutral surface and major content',
    '[default] vibrant surface and major content',
    '[default neutral] surface and major content',
    '[default neutral] surface and [major] content',
    '[default neutral] surface and [major content]',

    'primary [vibrant] surface and major content',
    'primary [vibrant] surface and major content',
    'primary [vibrant] surface and [major] content',
    'primary [vibrant] surface and [major content]',
    'primary neutral surface and [major content]',

    '[default] major content',
    '[default] minor content',
    '[default] minor [content]',
    '[default] minor [content]',

    'primary [major] content',
    'primary [major content]',
    'primary major [content]',
  ]

  const semanticAccentList = ['info', 'positive', 'warning', 'danger']
  const accentList = ['default', 'primary', ...semanticAccentList]
  const contrastList = ['neutral', 'vibrant']
  const emphasisList = ['major', 'minor']

  const extra = semanticAccentList.map(accent =>
    contrastList.map(contrast =>
      emphasisList.map(emphasis =>
        [contrast, accent, 'surface', 'and', emphasis, 'content'].join(' '))))
    .flat(2)

  const generate = (list) =>
    list.map(className => box({ className }, [className]))

  const edge = [
    'vibrant major content', // vibrant should not be applied
  ]

  generate(full).forEach(e => mount(e, '#basic'))
  generate(short).forEach(e => mount(e, '#shorthands'))
  generate(extra).forEach(e => mount(e, '#extra-accents'))
  generate(edge).forEach(e => mount(e, '#edge-cases'))
</script>

<style id="example">
  :root {
    font-family: system-ui;
    line-height: 1.5;
  }

  body {
    margin: 0;
    padding: var(--size-400);
  }
</style>

<style id="size">
  :root {
    --size-400: 1rem;
    --size-500: 1.25rem;
    --size-600: 1.5rem;
    --size-700: 2rem;
  }

  :root {
    --space-400: var(--size-400);
    --space-500: var(--size-600);
  }
</style>

<style id="layout">
  .stack > * {
    margin-block: 0;
  }

  .stack > * + * {
    margin-block-start: var(--space-400);
  }

  .switcher {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-400) var(--space-500);
  }

  .switcher > * {
    flex-grow: 1;
    flex-basis: calc((30rem - 100%) * 999);
  }

  .box {
    padding-inline: calc(var(--size-400, 1px) - 1px);
    padding-block: calc(var(--size-400, 1px) - 1px);
    border: 1px solid transparent;
    border-radius: .25rem;

  }
</style>
